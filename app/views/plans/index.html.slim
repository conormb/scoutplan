- content_for :body_classes do
  = "plans index"

h1 Planner

.scroller.py-2
  .d-flex.flex-row.flex-nowrap(style="margin: 30px;")
    - @events.each do |event|
      .card.card-body.event-activity(class="event-#{event.category.name.parameterize}")
        h1.card-title
          .month = event.starts_at.strftime('%b')
          = event.starts_at.strftime('%-d')
        h3 = event.title

        - if event.category.name == 'Troop Meeting'
          div.event-activity = "Opening Ceremony"
          div.event-activity = "Camp Planning"
          div.event-activity = "Game"
          div.event-activity = "Closing Ceremony"

scss:
  .event-activity {
    border: 1px solid #ddd;
    margin-bottom: 0.5rem;
    padding: 0.5rem;
    border-radius: 5px;
    cursor: move;

    h3 {
      margin-bottom: 1rem;      
    }
  }
  
  .scroller {
    position: absolute;
    left: 0;
    right: 0;
    overflow-x: auto;

    .card {
      min-width: 18rem;
      min-height: 25rem;
      margin-right: 1rem;
    }

    .card-title .month {
      font-size: 1rem;
      text-transform: uppercase;
    }

    h1.card-title {
      font-size: 5rem;
    }

    .card.event-camping-trip {
      min-width: 9rem;
      background-color: darkolivegreen;
      color: white;
      margin-left: -1.25rem;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;

      h3 {
        font-size: 1rem;
      }
    }

    .card.event-no-meeting {
      color: #aaa;
    }
  }

css:
  .card.event-troop-meeting h1 {
    color: #{ @unit.planner.event_category_for(:camping_trip)&.color || '#333' };
  }

javascript:
  var isDragging = false;
  var draggable = null;

  document.querySelectorAll('.event-activity').forEach(function(elem) {
    elem.addEventListener('mousedown', function(event) {
      isDragging = true;
      draggable = elem;
    });
  })

  document.addEventListener('mousemove', function(event) {
    if(!isDragging) { return; }

    draggable.style.left = event.x;
  });

  document.addEventListener('mouseup', function(event) {
    isDragging = false;
  })