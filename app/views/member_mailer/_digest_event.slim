- presenter = EventPresenter.new(event: event, current_member: @member)
- @member ||= member
- @service = RsvpService.new(@member, event)

.item
  = magic_link_to \
    @member,
    [event.unit, event],
    class: "imminent-event",
    style: "line-height:150%;margin-bottom:1rem;color:#57534E;text-decoration:none;display:block;line-height:150%;padding-top:18px;" do

    div(style="font-size:18px;line-height:150%;")
      span(style="font-size:21px;font-weight:bold;")
        = event.title

      br
      <img style="height:1rem;margin-right:0.1rem;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAABICAYAAABBeC2mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABw0lEQVR4nO2czUrDQBRGT+eHYMFKxZUVXCm+/+PoxoXuxELEQpl0cJGJ1tpGaJLR9t4D3czQzD0pzJ2WfhnRAe+dBa6AaRqaA08hVKsu1821lu1SkLXmDjgDTHqNgXGM8bXLdXOtZfZ9o/dukgrYZJLmemOotfaW/4VthQ7F3msNJX8QqLxUVF4qo22DqX1MgVOgyFpRvyyBN2AeQlVuTn6T996NgRnQa5/+J5TAcwjVohn4POEl8Vvg5A8Ky0EBnFtryhhjgCS/Jt7puHsAGNZuQLPhzTh+8QZL7YtNm9vl39aTncJa8274+ooojamhbmcSOTUcdh/vQiH6hKfyUlF5qai8VFReKq5lrgyheshWyUB4727Y8eOM6E9e5aWi8lJReamovFRUXioqLxWVl4rKS0XlpaLyUlF5qai8VFReKiovFZWXispLReWl0ibf9n+dQ2Knh6GOX21j7L27GKaePKT6dwWNlyPv3TXQJrkAqt4rGx5He8L6xVE/gaBNPmccPCdzk5KGP9KGR04ZQlU2G94z0PtzLv4pK2rfOksXYwzWmhI457jb3wq4byKln0HCtRtQcJyhoxJ4XM/Sik5RfwDxL2V//XlVeQAAAABJRU5ErkJggg==" />      
      = presenter.short_dates_to_s

      - if event.location.present?
        br
        <img style="height:1rem;margin-right:0.5rem;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAABICAYAAAC9bQZsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAydpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LmIwZjhiZTkwLCAyMDIxLzEyLzE1LTIxOjI1OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjMuMiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4REE2QjQ3OUIwOEUxMUVDQkYwQkE1MkZCRUFBNkEwRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4REE2QjQ3QUIwOEUxMUVDQkYwQkE1MkZCRUFBNkEwRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjhEQTZCNDc3QjA4RTExRUNCRjBCQTUyRkJFQUE2QTBGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjhEQTZCNDc4QjA4RTExRUNCRjBCQTUyRkJFQUE2QTBGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+E3VCygAABdFJREFUeNrc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" />
        = event.location

      - if event.short_description.present?
        br
        span(style="color:#78716C;")
          = event.short_description

      div(style="color:blue;font-size:80%;")
        = "Details"

  // TODO: move all this into a service class
  - if event.requires_rsvp
    - family_member_ids = @member.family.map(&:id)
    - family_rsvps = event.rsvps.where("unit_membership_id IN (?)", family_member_ids)
    - if family_rsvps.count.positive?
      - family_rsvps.group_by(&:response).each do |response, rsvps|
        - members = rsvps.map(&:member)
        - members.reject! { |member| !member.status_active? } if response == "declined"
        - names = members.map{ |member| member == @member ? "you" : member.display_first_name }
        div(style="margin-bottom:0.5rem;")
          - if response == "accepted" && names.present?
            div(style="font-weight:600;color:#0891B2;font-size:18px;")
              <span style="width:1.5rem;display:inline-block;text-align:center;">
                <img style="height:1rem;margin-right:0.3em;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD8klEQVR4nOWczXniMBCG3/BsA04JpASnBFICKQFKMCXAcY+khHDdW1xCXEIoYV3C7kFSMIp/JHtsJPxdIATr52UkjTRjP/D7DxMrBVZAot+bzxLreyVQ6PeF/juvfDaJfk1QxxJYoyCsPa5LUCCpvBqdUKBOwHloA9v0MKIFbVBA7M5JK0eBehuj8IVweQmQAX+BI+PDQddx1HVm/ByqgyQJKAO+gD3CjXRUouv+0m0RkQSgFfDJ7cDYMqA+EbDgoYD2wAeX1Sgkpai27YcU0hfQEvULiZnyiMpQbV32ubgPoFRXGKLVNKl3m30BbXRFIcw1vkpQbd/4XOQDaINaTmPXEQ9IroDuBY6RMyQXQCn3BcfoiMOc1AVoiVoq71UfdKxuXYDeiXNCdlWC6mOj2gDtiWsp76uUFmeyCdCKOJxAKWU0bEuaAA1yzyNVbZ/rAGXMY2jZSqkZNTagpO5LM9KP8yQb0Mb+wsyUYDmQNqA5W4/RFYMqoLlbj9GVFVUB+UQcQtEJeAEe9OtJqNxvFgbQkmkO2CW1BV5RUQ306yuwEyh7hd6CGECxWc+W5jDPAZlY2RougGLye9rgGOUd/3dRCvFZkAscKX1bUCxzjw8cqT6lC+IYXj5wMnpGMGq0WhC+7+MDZ4PsRjsJ3YJ84UgfDafSyQsg57zdGg6g0l/+CZa3Q/khtnw7EAQcoJS0oDP1cEB1dutYTihwQM9BUuoaSi6QQoIDyCdQdakNUnBwQBaQqzdeBylIOCALaIn7gVsVUrBw0JO0xMbOaI97YsAb8Ey4cACKMeYgn+wJ15znmyVPLBgnMdsrxaRDt8wsKRaoDPYxJAHp1mk35VgWZDQE0q3hAOTSk3Sd+kAKAQ5UJmmpaECTfCCFAucEFz9oijtoXCCFAgc0k6ksyKgNUkhwwLKgM+PPRUZHVFZX9V6xd8KCk6NDR9X7xU5Md4C/JuxIyveIqnrSb4znE8Wkksr2x95qNB14zUlXDGxAc7eiK+uBn4BK5m1FBywDqdvNH5j4zuJAVFBjHE3HHRIpJLGpts9NgHLmNdQONPiBbQdmO+Yx1ApaRkzXieIr972qlag+NqoL0BkVPr5XvdCRjeZyJl3gHhWNSVscphDXQ3uf0HEMcg41+UQ17gWSVxqfb9jHxLJinLhL/OJwQL/IaqEriskF6N3mvoHDs64wBmfygGprr9zpoZHVHWqpDNGaClTbBm2bJELPOeoX2hHG3FSi2vKMwDGyZGz+ADxxO1AGzBOCQ186ecGcJz2iltMpAgG5ruuRmvOcoRrzGWZGfR/y1qbJHvI2xVPw7OTOFZfHAqaVz+pkLNA8JrBguvAUAP8BkCHayCBSg8QAAAAASUVORK5CYII=" />
              </span>
              = [presenter.grammatical_list(names), presenter.substantive_verb(names), "going"].join(" ").upcase_first
          - elsif response == "declined" && names.present?
            div(style="font-weight:600;color:#EF4444;font-size:18px;")
              <span style="width:1.5rem;display:inline-block;text-align:center;">
                <img style="height:1rem;margin-right:0.3em;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAABYlAAAWJQFJUiTwAAADc0lEQVR4nO2c3U3jQBRGT6I04BZCCXnnAYUSoISkBCgBSkhKWEpYStiUsLRgiQbYB/uKJPhnZnzvzNjeI1kiCI3NSTKe+91JFp93txhRAA/AFtgAa+XxP4AT8A68AaXy+AAsjAQ91UdhMXgDJfAMHLUHXmoPCByAF+LJoT7XoT5U0RRUAH+AneKYvuzqa1B7crQEFcBvqrkmNRuqa1GRpCEoJzmCmqShgnKUI6hIGiIoZznCYEmhgsYgRxgkKUTQmOQIwZJ8BY1RjhAkyUfQmOUI3pJcBU1BjrABfrn+sYugKckRtjiWJX2CpihH2OEgqUvQlOUIvZLaBM1BjtApqUnQnOQIrZKuBc1RjtAo6VrQXOUIPySdCzowbznChSQR9ETaJDA3dvXB4vPutgD+EjdDHgMlcLOias1YyympWjRQvY1Dz6c1jgsF8LCiWnZb8g488t23Cr1TvgF7hXF82C6NT1ByKUd+d8/3K8GFY8s4j0MvsIfNEv2O5zknmjuePpKOVK+cJj6oXqFWrC0ah664SOqSEwVrQX0TaZckFzlrjOdQa0EykfpKcpFT4BF8hbKyPgHfMec97TswRNJL/dhFTpSyaPF5d/tlfZKaE92SoPrH+7axRC2oY07SLoF5VnIgriAY1sRLEsWkuM2HSEqWU6VaB/lIShripVwotq2yrzkvUKOTSpDvCnmPwf5DF1IICi0fkkiKLWhobRVdUkxBruVDH89EnJNiCfKprQ6EF7jqxBAkSWAXcivfUoXlIQWuCdaCSsIKT9eyxDpRNBfUt9bpWgS6SLJOFJMuFF1WyKqbwkNYUj0LVrQlij7lQ5ck60TxY4ntRCcizhsDa/xrK5F0PY51onhaUb2HHwxPsqHq3MpcEfqMa43jw/v/1nM7JXCzrH94TXwxOfIMlHIXeyVRtZwpx/q4uM3vSZi7ZMRFWXS9DopW42TKj5rxWlDUQjAzGgvqppX0HCW1pg1tpcacJHVGMV212Bwk9eZUfcXqlCU5xb8u1fwUJTln465xx5QkeTUOfPIgkfTme0UZ4d1V8Q3MJOYcY1kS1HIKTRSTdToDCe7HDYlcxyJpULNyaCadu6TBu2Q1QvtcJalsIdbqauQmSW1/tWbbJxdJqpvPtftiqSWp78y3aBzuufxUTgykxa3+sQWrb8GDiXxN4D9/0uGRO7zCXwAAAABJRU5ErkJggg==" />
              </span>  
              = [presenter.grammatical_list(names), presenter.substantive_verb(names), "not going"].join(" ").upcase_first

    // family non-respondents
    - non_respondents = @service.family_non_respondents
    - if non_respondents.present?
      - names = non_respondents.map{ |member| member == @member ? "you" : member.display_first_name }
      div(style="font-weight:600;color:#0891B2;font-size:18px;")
        <span style="width:1.5rem;display:inline-block;text-align:center;">
          <img style="height:1rem;margin-right:0.3em;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAIACAYAAACLn7v6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjMuNSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDktMDFUMTk6NDM6MzgtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTA5LTAxVDE5OjQ1OjE0LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTA5LTAxVDE5OjQ1OjE0LTA0OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2ZWFmYzE0YS02YzJlLTQ5MzctYTMxZi1kNzc5ODZkZDczM2UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NmVhZmMxNGEtNmMyZS00OTM3LWEzMWYtZDc3OTg2ZGQ3MzNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NmVhZmMxNGEtNmMyZS00OTM3LWEzMWYtZDc3OTg2ZGQ3MzNlIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ZWFmYzE0YS02YzJlLTQ5MzctYTMxZi1kNzc5ODZkZDczM2UiIHN0RXZ0OndoZW49IjIwMjItMDktMDFUMTk6NDM6MzgtMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMy41IChNYWNpbnRvc2gpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmOKBIAAABaTSURBVHja7d0LsF1VeQfwG8kTeYaXUlGCFpCAgEQBxaKjrS2tVbEIoshbpU7BoZ1SBZXykq2FQTvVoY4PELAgOGNtO6M0ID4QNeCTRyKIBpUoYyCIxEBC+23uuvGS5Cb3cc7Za+/168xvphOTHLK+vdb/nm/tvfZQVVVD0CIzwzPD3uHQcHh4ezgzXBwuC/8VbgqLkrvCPcny5JHwf8kjo3595PfdNerP35T+zsvSZ5yZPvPw9N+wd/pvmqk+tIlBIDczwm7hkHBEOCNcGq5PC/OaUQt3jpan0LgmXBjeFl4TDgibqy8CAIYXwwXhxHBJWBiWtmCBn4o16d+4MP2bT0xjMMf1gACgq+aF14b3pp+MF4fVHV7oJ2p1GpN6bM5KYzXPdYMAoG2mp3bHaeHy8DML/KQtC19MbbC6JTbb9YUAICdbhleFs1Of/lELd988lvYXPpz2R7Z3/SEAGPRP+C8LF4TbwhMW5sbUY39rOD99Q5ju+kQA0Gs7pp84L093uVh88/RIahnVdx7t4rpFADAZ08JL0m2M37OwtvbbQV27D4SDU01d2wgAxjQ/9fLvtoB2ztK0d3CIMEAAsO6iv8QiWYyfCQMEQLn2COdZ9EnXwLnpmjA3BAAdNStt5F7vzh3GsChtIDuyQgDQEc9Pm7kPWOAYp4eq4fOX9jN/BADtM3vUT/sWNHrxrWAL80oAkLdnh4vCCgsXPbYiXVvPNs8EAHnZLz2k9ZiFij5bkx42O8i8EwA0+7DWq9JktDDRhK+nVuPTzEcBwODu5jkp3GEBIhO3V8PvNphlfgoA+mNG2oy7z4JDpupr8zRBIADonaelr9mOZ6BNTxrXP6w4nVQAMMWFf7EFhZa6NwXBZuazAGD8m7v1S8SdwklX1PtVbxUEAoCNe3k1/JIViwZdVF/bh5rnAoCn2iXdx++MHkpQ37q8m3kvAEr39Gr4KOaVFgUKs6oaPpJ6K+uAACixz39EulvCYkDJfpk2ij1MJgCKUL9q8TsmPjzFtyvHSwiAjrd76mOZ15jsMOZ7jC/VFhIAXXOYdg9MqC10uHVDALTdTunuHpMaJne30B9ZRwRAG9WbvN7CBVPzYNok9vJ6AdAK8ypv4oJe+3KaW9YYAZD1T/0PmqzQFw+nbwPWGgGQla3DFSYoDMS1Ya51RwDk4OBwj0kJA7W0cq6QAGhQfdZ5fYzDapMRGntuoD5OYqb1SAAMeqP3GyYgZKF+sn5365IAGIQ3hUdMOsjKb8OR1icB0M+Wz4UmGmTt0mr4/dnWLAHQMzuEhSYXtMJXwzOtWwKgFxZUzvGBtvlFNXzyrjVMAExa/dDJKpMJWunxcIZ1TABM1JxwmQkEnfDpMNu6JgDGY7vwNZMGOuWWsKP1TQBszPPCYpMFOql+Yn9P65wAGOtVjb82SaDTlleOkBAA1fqneK40OaAIvw9vtu4JgNpplff0QonnCJ0tAMr9x9dPC37CRICifTw95S8AClKfHvh5Fz9QDb97eLYAKMPm4UsuemCUG8MWAqDb6gLf4GIHNqB+/mcrAdBN26aHQVzowFgWhe0FQLfsFL7v4gbG4Y6wswDohl083QtM0E+q4Tf/CYCWL/73upiBSYbALgKgnXZMX+VcyMBk/bjq8Mtlurr4bxNuc/ECPfCDaviUYAHQAvVtXN920QI99N10J6EAyPwhr5tcrEAf3Ny1h8W6drzD/7hIgT66vurQsRFdOtjtCy5OYAC+kNYcAZCJj7kogQH6hADIw1kuRqAB7xEAzTqyGn6xg4sRGLR67TlGADTjZdXwq91ciEBTVoVXCIDBem7lBe5AHn4T9hAAg1Ef1brERQdkpD43aEcB0F9z0sMYLjggxwfFZguA/vmkiwzI2BUCoD/e6eICWuAUAdBbB6XddhcXkLvHwiECoHevc/y5iwpokfurFrxWMvfFf3r4iosJaKFvVJmfGZR7AFziIgJa7CIBMDlHuXiADnirAJiY3cMjLhygA34b/lgAjL/vf4uLBuiQRdXwS6sEwCZc4GIBOug8AbDpEz5Xu1CADlpTZXZyaE6L/zbhpy4SoMPuC3MFwPqucnEABficAHiqY10UgFtDywuAeWGFCwIoyIq09hUfAF9yMQAFuiFMKzkAjncRAAU7ttQAqF/t+IALAChY/T7hnUoMgKsVH+DJOyCLCoDDFB1grb8uJQC2CksVHGCtX4StSwiAjyo2wHo+0vUAeEk1fB6GYgOsf1bQgV0NgKeFbykywJgWpbWycwHgnn+ATTumawGwRfilwgJs0v3pZpnOBMAHFBVg3M7rSgDUBx6tVFCAcavXzF27EADXKSbAhF3T9gB4uSICTNqhbQ2A+lam2xQQYNJurfp4ZHQ/A+CNigcwZX/TtgDYLNyhcABTdnu/Hg7rVwC8RdEAeubotgRA/dP/XQoG0DNLwvQ2BMCJigXQc8flHgAzwk8UCqDnfhpm5hwApygSQN+8LdcAmB3uUyCAvqnfpjgrxwA4WXEA+u6E3AJgWrpXVXEA+uvOXj0X0KsA+CtFARiYw3IKgBsVBGBgFuYSAAcoBsDAvTiHALhKIQAG7sqmA+BZ4TGFABi4x8NzmgyAixUBoDEXNRUAW4QVCgDQmBVpLR54ADj0DaDFD4ZNJQBuMfAAjfvmoANgH4MOkI19BxkAHzHgANm4ZFABMCcsN+AA2Xgwrc19D4BjDDZAdo4eRAB81UADZOfGfgfAHuEJAw2QnXpt3r2fAXC+QQbI1jn9DIAlBhggW4v7FQCOfQbI3379CIDKwAJk74J+BMDdBhYge/dUw+9p71kAHGhQAVpjQS8D4CIDCtAaH+pVANRfJX5qQAFaY+l42kDjCYCXGEyA1jm4FwFwoYEE6N7dQOMJgO8bSIDW+e5UA+CZlbN/ANqoXrt3nkoAeO8vQHsdP5UAuNYAArTW1ZMNgOnV8FtmDCJAOy1Pa/mEA+BlBg+g9V46mQC4wMABtN65kwmA7xo4gNZbNNEAmOv2T4DO3A46dyIB8BqDBtAZh00kABz/ANAd508kAL5qwAA64yvjDYAZ4XcGDKAzHg0zxxMABxksgM45cDwB8PcGCqBzTh9PAHzeQAF0znXjCYD7DRRA5yzbVADMM0gAnbXrxgLgdQYIoLNeu7EAeJ8BAuisszYWAJ8zQACddfXGAmCxAQLorDvHCoA5YbUBAuis1WmtXy8AXmxwADrvgA0FwIkGppPq5zquCe8PR4UXptt9t62Gz32akf7/eel/q3/P2Wk/aJnxU38657gNBcAlBqYzvhlOC3tVY7/xbTymhfnhXeFbxlX96YSLNxQANxiYVnuoGn6Pwx5TnPQbs2c1/H8rjLf601rXbygAlhqYVnognBm27uPEX9c26X7i3xh/9ad17l03AOpzotcYmFap3/N5edh+gBN/XXXv+MPuHlN/9WiVx9Pez9oAeJ5BaZW70l1bQ5mo3yGxRF3Un9aYNzoA/tSAtMZnwhYZTf4RW4Yr1Uf9aYVXjA6AkwxIKx7geGeGE39dp2onqr96Ze+E0QFwvgHJ2qrwxhZM/hGvDyvVTf3J1jmjA8BXt3z9PrXohlrm1WnhUkP1J89W4toAuNmAZKn+Kn1ECyf/6PdLuENE/dUyP18fHQC/NCBZemeLJ/+I09RR/cnOL0YCYGa6p9igZPgVrSM+q57qT3bfLmfUxdnZYGSnvqd6qw4tAPVti3eqq/qTlWfUxdnbQGSXzC/u0OQfcbDbA9VffbMyfyg9EGAw8vGxDk7+ER9XX/UnG39SF+UNBiKrg73mdngB2K5ygJj6q3MuDq+L8g4DkY33dHjyj3ifOqs/WTi5LsiZBiIL9Rnr2xSwAGwdHlRv9adx/1QX5CIDkYULC5j8Iz6o3upP4/6lLsblBiILexa0ADxfvdWfxn2qLsZ/G4jGfbOgyT9ikbqrP436z7oQXzMQjTu1wAXgdHVXfxp1U12IbxmIxu1V4ALwAnVXf5r95lkX4nsGolG/CtMKXADqf/My9Vd/GnNrXYg7DESjrilw8o+4Vv3Vn8b8qC7CPQaiUe8veAE4R/3Vn8b8uC7CfQaiUUcVvAC8Wf3Vn8b8bCj1IA1Gc15Y8AKwQP3Vn8Ysq4vwkIFo1LMLXgDmqb/605jldREeNRCNmlvwArC9+qs/jfldXQQvbW7WzIIXgFnqr/40ZvWQQbAAWADUX/3LJAC0ALQA1F/9BQANeY5NQPVXfwRAmQ4oeAF4kfqrPwLAg0AeBFJ/9UcAOAqgII4CUH9rgABwGFihHAam/tYAAeA44AInf/1v/rX6qz8CoHTzC1wA9lV39UcAUFXvKnAB+Ad1V38EAMOv5SxtAbhN3dUfAcCwPQua/Hupt/ojAPiDqqAF4EPqrf4IAP5gRdi2gMlfn33zsHqrPwKApzqrgAXgbHVWfwQA6/tN2K7Dk3+HsFyd1R8BwIb9e4cXgE+qr/ojABjbmnBQByf/S8MT6qv+CAA27sdhqw5N/i3DXeqq/ggAxufqDi0AV6qn+iMAmJhTOzD5T1dH9UcAMLl+8JEtnvxHpX+DWqo/AoBJWBVe3cLJ/+fpv10N1R8BwBQXgTa9OvANYaW6qT8CgN61A05rSc/X1371VzMBQB9cF7bJ9Fa/z6qP+iMA6K8l4eDMHvK5W13UHwHAYNRPVV5eDZ+v0uTJjh/2lV/91UMA0NwBYu+tBnuUcD3x31852Ev9jb8AIAv1efIfDM/v48SvX15ev8zDee7qb8wFAJn6TrobY58wbQoTvv6zL6iGX+B9q3FVfwQA7fKrcG3453B0WBB2S1/jZyZz068tSL/nnHS3ya+Nn/ojAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAABACAADAIAAIAAAEAgAAAQAAAIAAAEAAACAAABAAAAgAAAQCAAABAAAAgAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAEAgAAAQAAAIAAAEAAACAAABAAAAgAAAQCAAABAAAAgAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAgAAwCAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAABAAAAgAAAQCAAABAAAAgAAAQAAAIAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAABAAAAgAAAQCAAABAAAAgAAAQAAAIAAAEAIAAMBAAAgAAAQCAAABAAAAgAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAAAQCAAABAAAAgAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAABACAAABAAAAgAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAABAAAAgAAAQAgAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAACAAABAAAAgAAAQCAAAAQAAAIAAAEAAACAAABAIAAAEAAACAAABAAAAgAAAQAAAIAAAEAgAAAQAAAIAAAEAAT83i4OZwb/iLsE54RpoetwrPCK8Kp4brwiAujkx4O14a3h4PCDmFWskP6tXeka+C3xqvT18DfhZenuV+vAZuFncL88Mrw3rAwPCoA2uvn4YywbRiagNnh6HCLCdMJ94RTwtMncA1sEf42/MT4dcLXwxFh5gTXgjnpB4Y7BEB7LA8nTaLYG/KX4S4TqJVWph8AZk2h/vWffXf4vfFspR+EV/VgHZgWXhvuEwB5+2LYuQcFH60OkovDEyZUa9wd9uvhNbB/+iZhbNthTWr5Tu/xWrBN+LQAyE/dt39Lj4u9rteX0BPsgO+lfm6v61/vG33f+Gav3r95dZ/XgqO6slfYhQCo+7T79rngIw4NK0yyrK+FHftY//rvvtc4Z93+PXBAa8G+XdgjansAfDlsN6CCj/izdGeRCZfft8C9B1D/vd0plqXH0t18g1wLtktrkABowIfS7VtDDTjFhMvOsQOs/7HGOzvvaGgt2CytRQJggHd3vLWhYo92uUmXjU82UP9PGfds/EcG68GRbfxm2LYAWBoWZFDskXvF7zD5GvejsHkD9Z+TNpzVoFlL0sNcOawJL2jb3WJtCoCv9HmDb7L94N+ZhI32/fdqsP67p6dL1aK5bsD+ma0Jc9u0L9CWALg0zMis0CPeZiIW0fcfy5vUoTEnZ7om1PsCF7bh2aGhFiT8sZkW2X5AeX1/+wH6/p3aF8g5AHLq99sP0Pe3H6Dv37l9gVwD4KYM+/32A/T97Qfo+3dqXyDHAMi5328/QN/ffoC+f2f2BYYq/X77Afr+9gP0/Qclq3OEcgmANvX7N+Xp9gOK6PvbD9D3b/05QjkEQBv7/fYD9P3tBwy2O7Bfx9aILM4RajoA2tzv35STTdwi+v72A/rvpI6uESP7Ao0GwMoGPrj+6fjojhZ1tCtM3in7VIvrbz9g6q4oYJ04uqGOwcqhBnpRdb//RQUU1X5AOX1/+wH6/m3cF7i7/uAbB/iB/xu2L6SgI/apvEmshL7/WPaqvD9gMh5Nc6ektWL7tEYOaowX1h/6bv1++wH6/vYD9P2L2xf4x/oD9xxAkr+50GKO9hmTuoi+v/2AqfuM9eLJNbOfnYP6gbTdRz7s8336kPsK6vfbD9D3tx+g79+WfYHP1Z8x8kH1t4BVve4vFdjvtx+g728/QN+/1/sCC3s8zqvSsypDoz/oOP3+gTjJRC+i728/YOJOtD4MZF9g7XlK637QBfr99gP0/e0H6Pt3dl/g/NF/51g/oU6mHVT3t/dXpHG/P+BOk36t29MeSUn7Qber+1p3pjlhbdi0/Se5l1iv6Ses+/eN9SF7hOvG+Rc/GM4JsxXHfsAk+/7zC6z/fPsB+v6TVK+156a1dzx3+1w70vMfbwCMDoIzwg3V8Ftt6mMjVoTF4cqUKFsqyKSdaAF4cu+p1Pofp/76/lOwZRq/q9KavCKt0XenNfuMsRb+8QYA/XeZvn/RPl1w/T+r/s0yCJ4PaMpi3x6L3g9Yov4CgDLfH7AyPeSi9n/YDyit/vupuwCgzP2A49R7PccXVP8T1FsAUOZ+wFXqXPR+gL6/AKDQfrC+v/qrvwCgwH6wvr/6q78AoND9AH3/svcD9P0FAIXuB+j7l70foO8vACi0H6zvq/7qLwAosB+s76v+6i8AmIIT9P3tB7TU8eonACizH6zvr/5qJwAosB+s76v+6i8AKLAfrO+r/uovACh0P0Dfv+z9AH1/AUCh/WB9X/VXIwFAgf1gfV/1V38BQIH9YH1f9Vd/AUCh+wH6/mXvB+j7CwAK7Qfr+6q/WggACuwH6/uqv/oLAArsB+v7qr/6CwAK7Qfr+6u/sRcAFNgP1vdVf2MuAMisH/zDAUz+H6bPMubqjwAgI7uGZX2c/A+E5xpn9UcAkKe9ws/7MPnvt+mn/sZXAJC/3cKtPZz8i8I846r+CADaYVY4L92uN5Vb/c4NM42n+iMAaGdf+F/DwxOY+A+nP7Or8VN/BADduEvkdeGj4Rtps3Blsiz92r+l37O58VJ/uu//AYAu0oFRDmxRAAAAAElFTkSuQmCC" />
        </span>
        = [presenter.grammatical_list(names), presenter.pluperfect_verb(names), "not responded"].join(" ").upcase_first


    // TODO: this if statement should call into a Policy instead
    - if @member.adult?
      div(style="text-align:center;margin-top:1rem;margin-bottom:1.5rem;")
        - if !event.rsvp_open?
          = "RSVP is Closed"
        - if non_respondents.count.positive?
          = magic_link_to @member,
            "Complete your RSVP",
            unit_event_edit_rsvps_url(event.unit, event),
            class: "rsvp-needed-link",
            style: "background:#E66425;border:1px solid #E66425;color:white;display:inline-block;padding:0.5rem 3rem;border-radius:4px;text-align:center;text-decoration:none;font-weight:700;letter-spacing:1px;text-transform:uppercase;"

        - elsif family_rsvps.count.positive?
          = magic_link_to @member,
            "Change RSVP",
            unit_event_edit_rsvps_url(event.unit, event),
            class: "rsvp-change-link",
            style: "border:1px solid rgb(0,0,0,0.5);color:rgb(0,0,0,0.5);display:inline-block;padding:0.5rem 3rem;border-radius:4px;text-align:center;text-decoration:none;font-weight:700;letter-spacing:1px;text-transform:uppercase;"

        - else
          = magic_link_to @member,
            "RSVP Needed",
            unit_event_edit_rsvps_url(event.unit, event),
            class: "rsvp-needed-link",
            style: "background:#E66425;border:1px solid #E66425;color:white;display:inline-block;padding:0.5rem 3rem;border-radius:4px;text-align:center;text-decoration:none;font-weight:700;letter-spacing:1px;text-transform:uppercase;"
